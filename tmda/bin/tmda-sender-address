#!/usr/bin/env python

"""Generate a tagged (sender) e-mail address.

This generates a sender-style tagged e-mail address which only the
named sender can use.

Usage: %(program)s sender-address
"""

import sys

import paths
from TMDA import Cookie
from TMDA import Defaults


program = sys.argv[0]

def usage(status, msg=''):
    print __doc__ % globals()
    if msg:
        print msg
    sys.exit(status)


def main():

    try:
        address = sys.argv[1]
        sender_address = Cookie.make_sender_address(address)
        sys.stdout.write(sender_address)
    except IndexError:
        usage(2)


if __name__ == '__main__':
    main()
