<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- THIS PAGE IS AUTOMATICALLY GENERATED.  DO NOT EDIT. -->
<!-- Fri Dec 12 15:05:45 2003 -->
<!-- USING HT2HTML 2.0 -->
<!-- SEE http://ht2html.sf.net -->
<!-- User-specified headers:
Title: TMDA Client Configuration

-->

<head>
<title>TMDA Client Configuration</title>
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii">
<meta name="generator" content="HT2HTML/2.0">
<style type="text/css">
body { margin: 0px; }
</style>
</head>
<body bgcolor="#ffffff" text="#000000"
      marginwidth="0" marginheight="0"
      link="#0000bb"  vlink="#551a8b"
      alink="#ff0000">
<!-- start of page table -->
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<!-- start of banner row -->
<tr>
<!-- start of corner cells -->
<td width="150" valign="middle" bgcolor="#afeeee" class="corner">
<center><font size="+2"
        >&gt;&gt;&gt;&nbsp;TMDA&nbsp</font></center> </td>
<td width="15" bgcolor="#cccccc">&nbsp;&nbsp;</td><!--spacer-->
<!-- end of corner cells -->
<!-- start of banner -->
<td width="90%" bgcolor="#cccccc" class="banner">
<!-- start of site links table -->
<table width="100%" border="0"
CELLSPACING=0 CELLPADDING=0
       bgcolor="#ffffff">
<tr>
    <td bgcolor="#cccccc">
<a href="./index.html">TMDA Homepage</a><br>[    <a href="http://www.au.tmda.net/">AU</a> |    <a href="http://www.de.tmda.net/">DE</a> |    <a href="http://www.pl.tmda.net/">PL</a> |    <a href="http://www.us.tmda.net/">US</a>     mirror ]
    </td>
    <td bgcolor="#cccccc">
<a href="./tmda-cgi">tmda-cgi</a>
    </td>
    <td bgcolor="#cccccc">
<a href="http://sourceforge.net/projects/tmda">TMDA @ SourceForge</a>
    </td>
    <td bgcolor="#cccccc">
<a href="http://www.cafeshops.com/TMDA/">TMDA Store</a>
    </td>
</tr>
</table><!-- end of site links table -->

</td><!-- end of banner -->
</tr><!-- end of banner row -->
<tr><!-- start of sidebar/body row -->
<!-- start of sidebar cells -->
<td width="150" valign="top" bgcolor="#cccccc" class="sidebar">
<!-- start of sidebar table -->
<table width="100%" border="0" cellspacing="0" cellpadding="3"
       bgcolor="#ffffff">
<tr><td bgcolor="#191970"><b><font color="#ffffff">
About
</font></b></td></tr>
<tr><td bgcolor="#cccccc">
<a href="index.html">Introduction</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="history.html">History</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="features.html">Features</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="challengeresponse.html">Challenge/Response</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="results.html">Results &amp; Testimonials</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="inuse.html">TMDA In Use</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="press.html">Press Coverage</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="donations.html">Donations</a>
</td></tr>
<tr><td bgcolor="#cccccc">&nbsp;
<tr><td bgcolor="#191970"><b><font color="#ffffff">
Install
</font></b></td></tr>
<tr><td bgcolor="#cccccc">
<a href="requirements.html">Requirements</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="download.html">Download</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="install.html">Installation</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="upgrade.html">Upgrading</a>
</td></tr>
<tr><td bgcolor="#cccccc">&nbsp;
<tr><td bgcolor="#191970"><b><font color="#ffffff">
Configuration
</font></b></td></tr>
<tr><td bgcolor="#cccccc">
<a href="config.html">Overview</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="config-pre.html">Pre-Configuration</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="config-server.html">Server Configuration</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<b>Client Configuration</b>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="config-vars.html">Configuration Variables</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="config-filter.html">Filter Specification</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="filter-sources.html">Filter Sources</a>
</td></tr>
<tr><td bgcolor="#cccccc">&nbsp;
<tr><td bgcolor="#191970"><b><font color="#ffffff">
HOWTOs
</font></b></td></tr>
<tr><td bgcolor="#cccccc">
<a href="howtos.html">Overview</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="howto-template.html">Templates</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="tmda-ofmipd.html">tmda-ofmipd</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="tmda-vdomains.html">Virtual Domains</a>
</td></tr>
<tr><td bgcolor="#cccccc">&nbsp;
<tr><td bgcolor="#191970"><b><font color="#ffffff">
Support
</font></b></td></tr>
<tr><td bgcolor="#cccccc">
<a href="trouble.html">Troubleshooting</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="http://tmda.net/faq.cgi" TARGET="Resource Window">FAQ</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="bugs.html">Bugs &amp; Patches</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="http://tmda.net/lists/listinfo/" TARGET="Resource Window">Mailing Lists</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="http://mla.libertine.org/" TARGET="Resource Window">List Archive</a> 
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="support-commercial.html">Commercial Support</a>
</td></tr>
<tr><td bgcolor="#cccccc">&nbsp;
<tr><td bgcolor="#191970"><b><font color="#ffffff">
Miscellaneous
</font></b></td></tr>
<tr><td bgcolor="#cccccc">
<a href="resources.html">External Resources</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="mirrors.html">Mirrors</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="logos.html">Logos</a>
</td></tr>
<tr><td bgcolor="#cccccc">
<a href="http://www.cafeshops.com/TMDA/" TARGET="Resource Window">Merchandise</a>
</td></tr>
<tr><td bgcolor="#cccccc">&nbsp;
<tr><td bgcolor="#191970"><b><font color="#ffffff">
Author
</font></b></td></tr>
<tr><td bgcolor="#cccccc">
<a href="mailto:jason@mastaler.com">Jason R. Mastaler</a>
</td></tr>
<tr><td bgcolor="#cccccc">
&nbsp;
</td></tr>
<tr><td bgcolor="#cccccc">
&copy; 2001-2003
</td></tr>
</table><!-- end of sidebar table -->

</td>
<td width="15">&nbsp;&nbsp;</td><!--spacer-->
<!-- end of sidebar cell -->
<!-- start of body cell -->
<td valign="top" width="90%" class="body"><br>
<h3>TMDA Client Configuration</h3>
In addition to filtering your incoming e-mail, TMDA can also work with
your mail client to send your outgoing messages with unique,
cryptographically enhanced (tagged) e-mail addresses.  This is done to complement
the filter's "whitelist" functionality.<br><br>

<u>Dated Addresses</u>
<ul>
TMDA can automatically tag your messages with a temporary e-mail
address which only works for a defined time interval (e.g, 5 days).
During this period, even those not on your whitelist will be able to
contact you using the dated address.  This also allows you to participate
freely in open discussion forums such as Internet mailing lists
without fear that your address will be "harvested" by spammers for
later use against you, and without opening up your whitelist more than
necessary.

Here is an example dated address:
<blockquote><pre>
jason-dated-989108708.a17f80@mastaler.com
</pre></blockquote>

This particular address expires on Sun, May 6 00:25:08 2001 UTC,
which is exactly 5 days after it was generated.
TMDA time intervals can be set in years, months, weeks, days, hours, minutes, and
seconds.  Once a dated address expires, messages sent there must
go through the confirmation process.  Use of strong cryptography insures
that the timestamp can't be modified.
</ul>

<u>Sender Addresses</u>
<ul>
TMDA can also tag your messages with a sender address which is an e-mail
address that only a certain sender can use.

Here is an example sender address:

<blockquote><pre>
jason-sender-a751af@mastaler.com
</pre></blockquote>

This particular sender address will only accept messages from
<em>president@whitehouse.gov</em>.  Other messages must go through
the confirmation process.  Sender addresses can also be generated to
accept mail from any sender at a given domain.
<br><br>

Sender addresses are often used to subscribe to mailing lists.  This
way, you don't have to worry that the subscription list might get
harvested by spammers since only the mailing list software will be
able to send messages there.  The address to use can be found in the
<b>Return-Path</b> header of a mailing list message (e.g, subscribe to
the Python list with a sender address based upon
<em>python-list-admin@python.org</em>).
</ul>

<u>Keyword Addresses</u>
<ul>
TMDA can also tag your messages with a keyword address which will work
for any sender and indefinitely unless specifically revoked.  Any string
can be used as the keyword.

Here is an example keyword address using the keyword `promos':

<blockquote><pre>
jason-keyword-promos.8w06e8@mastaler.com
</pre></blockquote>

Keyword addresses are appropriate when you need to hand-out
a working address, but you don't want its use limited to a particular
sender or time frame.  They are particularily useful in cases where
you are not be able to predict the sender address such as with
automated mailings (your ISP, your Amazon.COM account, etc.).
<br><br>

The caveat of course is that since keyword addresses are essentially
keys to your inbox, you must manually intervene if the address starts
getting spammed.  An easy way to do this is to add an entry for the
harvested keyword address to your <b>~/.tmda/filters/incoming</b>
file.  e.g, <code>to jason-keyword-promos.8w06e8@mastaler.com confirm</code>
</ul><br>
</ul>

The <b>tmda-address</b> program is included to generate the
various types of tagged addresses from the command line.  Run the
utility with the <b>-h</b> flag to get usage information.  
<br><br>

<li>outgoing filter file:<br><br>

TMDA determines how to tag your outgoing mail by parsing your outgoing
filter file.  Set one up by reading through the <a
href="config-filter.html">TMDA Filter Specification</a> (especially
the examples section at the end).
<br><br>

If you don't have an outgoing filter file, or the destination address
doesn't match any lines in your filter file, the message will be
tagged with a dated address by default.  The lines in your filter make
exceptions to that rule.  You can also change the default by setting
<strong>ACTION_OUTGOING</strong> in your tmda/config.
<br><br>

<strong>TIP:</strong>

Many users prefer that their "whitelisted" addresses receive untagged
(no cookie added) messages.  This way their trusted contacts are not
even be aware of TMDA.  If you are whitelisting as
described in the FAQ, you can accomplish this
by adding one of the following lines to your ~/.tmda/filters/outgoing filter
file:

<blockquote><pre>

to *@=domain.dom bare

to-file ~/.tmda/lists/whitelist bare

</blockquote></pre>

<li>X-TMDA header:<br><br>
You can override any declarations you might have in your filter file
by adding this header when composing a message.  TMDA will look for it
first when determining how to tag the message.  The header will then be
removed just before the message is sent.  Here is how it can be used:
<br>
<ul>
<table cellpadding=8 cellspacing=2>

<tr>
<td><code>
X-TMDA: bare
</td></code>
<td>
Send the message to all recipients with your address untagged (no cookie added)
</td>
</tr>

<tr>
<td><code>
X-TMDA: bare=append
</td></code>
<td>
Send the message to all recipients with your address untagged (no cookie added), and
also append the recipient addresses to your BARE_APPEND file.
</td>
</tr>

<tr>
<td><code>
X-TMDA: dated
</td></code>
<td>
Send the message to all recipients with a dated address (default timeout interval)
</td>
</tr>

<tr>
<td><code>
X-TMDA: dated=3M
</td></code>
<td>
Send the message to all recipients with a dated address that expires in 3 months
</td>
</tr>

<tr>
<td><code>
X-TMDA: sender
</td></code>
<td>
Send the message to all recipients with a sender cookie that is based
on the recipient address.
</td>
</tr>

<tr>
<td><code>
X-TMDA: sender=owner-xemacs-beta@xemacs.org
</td></code>
<td>
Send the message to all recipients with a sender cookie based on
owner-xemacs-beta@xemacs.org instead of the recipient address.
</td>
</tr>

<tr>
<td><code>
X-TMDA: sender=xemacs.org
</td></code>
<td>
Send the message to all recipients with a sender cookie based on
xemacs.org instead of the recipient address.
</td>
</tr>

<tr>
<td><code>
X-TMDA: domain
</td></code>
<td>
Send the message to all recipients with a sender cookie that is based
on the domain of the recipient address.
</td>
</tr>

<tr>
<td><code>
X-TMDA: keyword=promos
</td></code>
<td>
Send the message to all recipients with a keyword (promos) cookie added to your address
</td>
</tr>

<tr>
<td><code>
X-TMDA: exp=postmaster@xemacs.org
</td></code>
<td>
Send the message to all recipients from postmaster@xemacs.org
</td>
</tr>
<tr>
<td><code>
X-TMDA: ext=mlist-xemacs-beta
</td></code>
<td>
Send the message to all recipients from jason-mlist-xemacs-beta@mastaler.com
</td>
</tr>
</table>
</ul>
</ul>

<li>~/.tmda/config configuration:<br><br>

Make sure that your <b>crypt_key</b> file is the same
on both your mail server and your mail client -- they must match.
See <a href="config-vars.html">Configuration Variables</a> for more client options.
<br><br>


<li>Mail User Agent (MUA) configuration:<br><br>

To have TMDA read your configuration each time you send outgoing mail
and modify your sender address accordingly, you must arrange for your
MUA to call the included sendmail compatibility wrapper
<B>(tmda-sendmail)</B>.  tmda-sendmail will use the address set by
your MUA as the base for your tagged address.  See below for how to
accomplish this for a few popular MUAs.
<br><br>

<strong>NOTE</strong>: 
If your MUA does not support a sendmail command-line interface
as is the case with most non-Unix clients, you should use 
<a href="tmda-ofmipd.html">tmda-ofmipd</a> instead.
<br><br>

<ul>
<li>For BSD Mail/mailx, add the following line to your .mailrc file:<br>
<blockquote>
<pre>
set sendmail="/path/to/tmda/bin/tmda-sendmail"

</pre></blockquote>

<li>For <a href="http://www.washington.edu/pine/" TARGET="Resource Window">Pine</a>,
 add the following line to your .pinerc file:<br>
<blockquote>
<pre>
sendmail-path="/path/to/tmda/bin/tmda-sendmail"

</pre></blockquote>

<li>For <a href="http://www.mutt.org/" TARGET="Resource Window">Mutt</a>,
 add the following line to your .muttrc file:<br>
<blockquote>
<pre>
set sendmail="/path/to/tmda/bin/tmda-sendmail"

</pre></blockquote>
and make sure <em>sendmail_wait</em> is not set to <code>-1</code>.
<br><br>

<li>For <a href="http://www.wonderworks.com/vm/" TARGET="Resource Window">VM</a>,
add the following line to your .vm file:<br>
<blockquote>
<pre>
(setq sendmail-program "/path/to/tmda/bin/tmda-sendmail")

</pre></blockquote>

<li>For <a href="http://www.gnus.org/" TARGET="Resource Window">Gnus</a>,
add the following line to your .gnus file:<br>
<blockquote>
<pre>
(setq sendmail-program "/path/to/tmda/bin/tmda-sendmail")

</pre></blockquote>

Also see <strong>tmda.el</strong> (located in contrib), which is a module
for integrating TMDA with Gnus and Message mode.
<br><br>

<li>For <a href="http://www.mhost.com/nmh/" TARGET="Resource Window">nmh</a>,
<ul>
<li>Make sure nmh was compiled to use Sendmail as its delivery agent
    (i.e, "--with-mts=sendmail")<br>

<li>Add the following line to your ~/.mh_profile:<br>
<blockquote>
<pre>
postproc: /path/to/nmh/lib/spost

</pre></blockquote>

<li>Add the following line to your /path/to/nmh/etc/mts.conf:<br>
<blockquote>
<pre>
sendmail: /path/to/tmda/bin/tmda-sendmail

</pre></blockquote>
</ul>

<li>For <a href="http://sylpheed.good-day.net/" TARGET="Resource Window">Sylpheed</a>,
 Configuration --> Common Preferences --> Send --> External Program<br>
<ul>
<li>Check <em>Use external program for sending</em>
<li>In the <em>Program path</em> box, enter <em>/path/to/tmda/bin/tmda-sendmail</em>
</ul>
<br>

<li>For <a href="http://mahogany.sourceforge.net/" TARGET="Resource Window">Mahogany</a>,
 Edit --> Preferences --> Network<br>
<ul>
<li>Check <em>Use local mail transfer agent</em>
<li>In the <em>Local MTA command</em> box, enter <em>/path/to/tmda/bin/tmda-sendmail</em>
</ul>
<br>

<li>For <a href="http://www.xfmail.org/" TARGET="Resource Window">XFMail</a>,
 Misc --> Config Accounts+Misc --> Send<br>
<ul>
<li>Check <em>Sendmail</em> under <em>Send method</em>
<li>In the <em>Sendmail Path</em> box, enter <em>/path/to/tmda/bin/tmda-sendmail</em>
</ul>
<br>

<li>For <a href="http://www.inter7.com/sqwebmail.html" TARGET="Resource Window">SqWebMail</a>,<br>
<ul>
<li>Replace <em>/usr/local/share/sqwebmail/sendit.sh</em> with 
<em>contrib/sendit.sh</em> from the TMDA distribution. 
<li> sendit.sh automatically works with  SqWebMail + vpopmail + TMDA, or just
SqWebMail + vpopmail.
</ul>
<br>


<li>For <a href="http://kmail.kde.org/" TARGET="Resource Window">KMail (KDE Mail)</a>,
 Settings --> Configure KMail --> Network --> Sending Mail<br>
<ul>
<li>Check <em>Sendmail</em>
<li>In the <em>Location</em> box, enter <em>/path/to/tmda/bin/tmda-sendmail</em>
</ul>

</ul>
</ul>

<br>

<li>USENET News Client configuration:<br><br>

If you still read <a href="http://www.usenet.org/" TARGET="Resource Window">USENET</a> 
(a notorious source of spam), you might find it useful to post using a
dated address.  Simply have your newsreader call
<strong>tmda-address -dn</strong> and use the result as your
posting address.
<br><br>

<ul>

<li>For <a href="http://www.gnus.org/" TARGET="Resource Window">Gnus</a>, this could
be accomplished with the following addition to your .gnus file:

<blockquote><pre>

(defun tmda-dated-address () 
  (shell-command-to-string "/path/to/tmda/bin/tmda-address -dn"))
 
(setq gnus-posting-styles 
      (message-this-is-news           
       (address tmda-dated-address))) 

</pre></blockquote>

<li>For <a href="http://www.slrn.org/" TARGET="Resource Window">slrn</a>, you can define
an m4 macro that modifies your .slrnrc each time slrn is invoked:<br><br>

<ol>
<li>
Copy your .slrnrc to .slrnrc.m4, edit .slrnrc.m4 and search for line
which begins with "set username". Change that line to:

<blockquote><pre>

set username "patsubst(TMDADATED, `@.*$')"

</pre></blockquote>

<li>
Then make an alias or script for running slrn.  Below is an example
alias for tcsh.

<blockquote><pre>

alias slrn-dated 'm4 -DTMDADATED=`tmda-address -dn` \
~/.slrnrc.m4 > ~/.slrnrc && slrn -h newshost'

</pre></blockquote>
</ol>

<li>For <a href="http://www.tin.org/" TARGET="Resource Window">TIN</a>:

<blockquote><pre>

In tinrc:
# If --internal use the builtin mini inews for posting via NNTP
# otherwise use an external inews program
inews_prog=/path/to/bin/inews.sh
 
inews.sh:
#!/bin/sh
sed "/^From:/d" |/usr/bin/inews -h -S -f `/usr/bin/tmda-address -d` 

</pre></blockquote>

<li>For <a href="http://www.mutt.org/" TARGET="Resource Window">Mutt</a>
with the VVV-NNTP patch applied, see the following 
<a href="http://mla.libertine.org/tmda-users/200204/msg00443.html" TARGET="Resource Window">instructions</a>.

<p>

</ul>

</td><!-- end of body cell -->
</tr><!-- end of sidebar/body row -->
</table><!-- end of page table -->
</body></html>
