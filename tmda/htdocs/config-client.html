<HTML>
<!-- THIS PAGE IS AUTOMATICALLY GENERATED.  DO NOT EDIT. -->
<!-- Thu Jan  3 13:59:36 2002 -->
<!-- USING HT2HTML 1.2 -->
<!-- SEE http://barry.wooz.org/software/ht2html -->
<!-- User-specified headers:
Title: TMDA Client Configuration

-->

<HEAD>
<TITLE>TMDA Client Configuration</TITLE>

</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000"
      TOPMARGIN="0" LEFTMARGIN="0" MARGINWIDTH="0" MARGINHEIGHT="0"
      LINK="#0000bb"  VLINK="#551a8b"
      ALINK="#ff0000">
<!-- start of page table -->
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<!-- start of banner row -->
<TR>
<!-- start of corner cells -->
<TD WIDTH=150 VALIGN=CENTER BGCOLOR="#191970">

        <font color="#191970">
        <h3> T M D A </h3>
        </font> </TD>
<TD WIDTH=15 BGCOLOR="#cccccc">&nbsp;&nbsp;</TD><!--spacer-->
<!-- end of corner cells -->
<!-- start of banner -->
<TD WIDTH="90%" BGCOLOR="#cccccc">
<!-- start of site links table -->
<TABLE WIDTH="100%" BORDER=0
CELLSPACING=0 CELLPADDING=0
       COLS=4 ROWS=1 BGCOLOR="#ffffff">
<TR>
    <TD BGCOLOR="#cccccc">
<a href="./index.html">TMDA Homepage</a>
    </TD>
    <TD BGCOLOR="#cccccc">
<a href="http://sourceforge.net/projects/tmda">TMDA @ SourceForge</a>
    </TD>
    <TD BGCOLOR="#cccccc">
&nbsp;&nbsp;</TD>
    <TD BGCOLOR="#cccccc">
&nbsp;&nbsp;</TD>
</TR>
</TABLE><!-- end of site links table -->

</TD><!-- end of banner -->
</TR><!-- end of banner row -->
<TR><!-- start of sidebar/body row -->
<!-- start of sidebar cells -->
<TD WIDTH=150 VALIGN=TOP BGCOLOR="#cccccc">
<!-- start of sidebar table -->
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=3
       BGCOLOR="#ffffff">
<TR><TD BGCOLOR="#191970"><B><FONT COLOR="#ffffff">
Overview
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="index.html">Introduction</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="history.html">History</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="features.html">Features</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="results.html">Results &amp; Testimonials</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="inuse.html">TMDA In Use</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">&nbsp;
<TR><TD BGCOLOR="#191970"><B><FONT COLOR="#ffffff">
Usage
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="requirements.html">Requirements</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="download.html">Download</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="install.html">Installation</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="config.html">Configuration</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">&nbsp;
<TR><TD BGCOLOR="#191970"><B><FONT COLOR="#ffffff">
Configuration
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="config.html">Overview</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="config-pre.html">Pre-Configuration</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="config-server.html">Server Configuration</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<b>Client Configuration</b>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="config-filter.html">Filter Specification</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">&nbsp;
<TR><TD BGCOLOR="#191970"><B><FONT COLOR="#ffffff">
Support
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="faq.html">FAQ</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="lists.html">Mailing Lists</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="bugs.html">Bugs &amp; Patches</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="resources.html">External Resources</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">&nbsp;
<TR><TD BGCOLOR="#191970"><B><FONT COLOR="#ffffff">
Author
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="mailto:jason@mastaler.com">Jason R. Mastaler</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
&nbsp;
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
&copy; 2001
</TD></TR>
</TABLE><!-- end of sidebar table -->

</TD>
<TD WIDTH=15>&nbsp;&nbsp;</TD><!--spacer-->
<!-- end of sidebar cell -->
<!-- start of body cell -->
<TD VALIGN=TOP WIDTH="90%"><BR>
<h3>TMDA Client Configuration</h3>
In addition to filtering your incoming e-mail, TMDA can also work with
your mail client to modify your outgoing address with unique,
cryptographically enhanced (tagged) e-mail addresses.  This is done to compliment
the filter's "whitelist" functionality.<br><br>

<u>Dated Addresses</u><br><br>
<ul>
TMDA can automatically tag your messages with a temporary e-mail
address which only works for a defined time interval (e.g, 5 days).
During this period, even those not on your whitelist will be able to
contact you using the dated address.  This also allows you to participate
freely in open discussion forums such as Internet mailing lists
without fear that your address will be "harvested" by spammers for
later use against you, and without opening up your whitelist more than
necessary.

Here is an example dated address:
<blockquote><pre>
jason-dated-989108708.a17f80@mastaler.com
</pre></blockquote>

This particular address expires on Sun, May 6 00:25:08 2001 UTC,
which is exactly 5 days after it was generated.
TMDA time intervals can be set in years, months, weeks, days, hours, minutes, and
seconds.  Once a dated address expires, messages sent there must
go through the confirmation process.  Use of strong cryptography insures
that the timestamp can't be modified.
</ul><br>

<u>Sender Addresses</u><br><br>
<ul>
TMDA can also tag your messages with a sender address which is an e-mail
address that only a certain sender can use.

Here is an example sender address:

<blockquote><pre>
jason-sender-a751af@mastaler.com
</pre></blockquote>

This particular sender address will only accept messages from
<em>president@whitehouse.gov</em>.  Other messages must go through
the confirmation process.
<br><br>

Sender addresses are often used to subscribe to mailing lists.  This
way, you don't have to worry that the subscription list might get
harvested by spammers since only the mailing list software will be
able to send messages there.  The address to use can be found in the
<b>Return-Path</b> header of a mailing list message (e.g, subscribe to
the Python list with a sender address based upon
<em>python-list-admin@python.org</em>).

</ul><br>
</ul>

<u>Keyword Addresses</u><br><br>
<ul>
TMDA can also tag your messages with a keyword address which will work
for any sender and indefinitely unless specifically revoked.  Any string
can be used as the keyword.

Here is an example keyword address using the keyword `promos':

<blockquote><pre>
jason-promos.8d06eu@mastaler.com
</pre></blockquote>

Keyword addresses are appropriate when you need to hand-out
a working address, but you don't want its use limited to a particular
sender or time frame.  They are particularily useful in cases where
you are not be able to predict the sender address such as with
automated mailings (your ISP, your Amazon.COM account, etc.).
<br><br>

The caveat of course is that since keyword addresses are essentially
keys to your inbox, you must manually intervene if the address starts
getting spammed.  An easy way to do this is to add an entry for the
harvested keyword address to your <b>~/.tmda/filters/incoming</b>
file.  e.g, <code>to jason-promos.8d06eu@mastaler.com confirm</code>
</ul><br>
</ul>

The <b>tmda-address</b> program is included to generate the
various types of tagged addresses from the command line.  Run the
utility with the <b>-h</b> flag to get usage information.  
<br><br>

<li>outgoing filter file:<br><br>

TMDA determines how to tag your outgoing mail by parsing your outgoing
filter file.  Set one up by reading through the <a
href="config-filter.html">TMDA Filter Specification</a> (especially
the examples section at the end).
<br><br>

If you don't have an outgoing filter file, or the destination address
doesn't match any lines in your filter file, the message will be
tagged with a dated address by default.  The lines in your filter make
exceptions to that rule.  You can also change the default by setting
<strong>ACTION_OUTGOING</strong> in your tmdarc.
<br><br>

<strong>TIP:</strong>

Many users prefer that their "whitelisted" addresses receive untagged
(no cookie added) messages.  This way their trusted contacts are not
even be aware of TMDA.  If you are whitelisting as
described in the <a href="faq.html">FAQ</a>, you can accomplish this
by adding one of the following lines to your ~/.tmda/filters/outgoing filter
file:

<blockquote><pre>

to *@=domain.dom bare

to-file ~/.tmda/lists/whitelist bare

</blockquote></pre>

<li>X-TMDA header:<br><br>
You can override any declarations you might have in your filter file
by adding this header when composing a message.  TMDA will look for it
first when determining how to tag the message.  The header will then be
removed just before the message is sent.  Here is how it can be used:
<br>
<ul>
<table cellpadding=8 cellspacing=2>

<tr>
<td><code>
X-TMDA: bare
</td></code>
<td>
Send the message to all recipients with your address untagged (no cookie added)
</td>
</tr>

<tr>
<td><code>
X-TMDA: bare=append
</td></code>
<td>
Send the message to all recipients with your address untagged (no cookie added), and
also append the recipient addresses to your BARE_APPEND file.
</td>
</tr>

<tr>
<td><code>
X-TMDA: dated
</td></code>
<td>
Send the message to all recipients with a dated address (default timeout interval)
</td>
</tr>

<tr>
<td><code>
X-TMDA: dated=3M
</td></code>
<td>
Send the message to all recipients with a dated address that expires in 3 months
</td>
</tr>

<tr>
<td><code>
X-TMDA: sender
</td></code>
<td>
Send the message to all recipients with a sender cookie that is based
on the recipient address.
</td>
</tr>

<tr>
<td><code>
X-TMDA: sender=owner-xemacs-beta@xemacs.org
</td></code>
<td>
Send the message to all recipients with a sender cookie based on
owner-xemacs-beta@xemacs.org instead of the recipient address.
</td>
</tr>

<tr>
<td><code>
X-TMDA: keyword=promos
</td></code>
<td>
Send the message to all recipients with a keyword (promos) cookie added to your address
</td>
</tr>

<tr>
<td><code>
X-TMDA: exp=postmaster@xemacs.org
</td></code>
<td>
Send the message to all recipients from postmaster@xemacs.org
</td>
</tr>
<tr>
<td><code>
X-TMDA: ext=mlist-xemacs-beta
</td></code>
<td>
Send the message to all recipients from jason-mlist-xemacs-beta@mastaler.com
</td>
</tr>
</table>
</ul>
</ul>

<li>.tmdarc configuration:<br><br>

Make sure that your <b>.tmdarc</b> contains the same <b>CRYPT_KEY</b>
on both your mail server and your mail client -- they must match.
See <b>sample.tmdarc</b> for more client options.
<br><br>


<li>Mail User Agent (MUA) configuration:<br><br>

To have TMDA read your configuration each time you send outgoing mail
and modify your sender address accordingly, you must arrange for your
MUA to call the included sendmail compatibility wrapper
<B>(tmda-sendmail)</B>.  tmda-sendmail will use the address set by
your MUA as the base for your tagged address.  Here is how to
accomplish this for a few popular MUAs.  Let me know if you are using
TMDA with a MUA not listed here.
<br><br>

<ul>
<li>For BSD Mail/mailx, add the following line to your .mailrc file:<br>
<blockquote>
<pre>
set sendmail="/path/to/tmda/bin/tmda-sendmail"

</pre></blockquote>

<li>For <a href="http://www.washington.edu/pine/" TARGET="Resource Window">Pine</a>,
 add the following line to your .pinerc file:<br>
<blockquote>
<pre>
sendmail-path="/path/to/tmda/bin/tmda-sendmail"

</pre></blockquote>

<li>For <a href="http://www.mutt.org/" TARGET="Resource Window">Mutt</a>,
 add the following line to your .muttrc file:<br>
<blockquote>
<pre>
set sendmail="/path/to/tmda/bin/tmda-sendmail"

</pre></blockquote>

<li>For <a href="http://www.wonderworks.com/vm/" TARGET="Resource Window">VM</a>,
add the following line to your .vm file:<br>
<blockquote>
<pre>
(setq sendmail-program "/path/to/tmda/bin/tmda-sendmail")

</pre></blockquote>

<li>For <a href="http://www.gnus.org/" TARGET="Resource Window">Gnus</a>,
add the following line to your .gnus file:<br>
<blockquote>
<pre>
(setq sendmail-program "/path/to/tmda/bin/tmda-sendmail")

</pre></blockquote>

<li>For <a href="http://www.mhost.com/nmh/" TARGET="Resource Window">nmh</a>,
<ul>
<li>Make sure nmh was compiled to use Sendmail as its delivery agent
    (i.e, "--with-mts=sendmail")<br>

<li>Add the following line to your ~/.mh_profile:<br>
<blockquote>
<pre>
postproc: /path/to/nmh/lib/spost

</pre></blockquote>

<li>Add the following line to your /path/to/nmh/etc/mts.conf:<br>
<blockquote>
<pre>
sendmail: /path/to/tmda/bin/tmda-sendmail

</pre></blockquote>
</ul>

<li>For <a href="http://sylpheed.good-day.net/" TARGET="Resource Window">Sylpheed</a>,
 Configuration --> Common Preferences --> Send --> External Program<br>
<ul>
<li>Check <em>Use external program for sending</em>
<li>In the <em>Program path</em> box, enter <em>/path/to/tmda/bin/tmda-sendmail</em>
</ul>
<br>

<li>For <a href="http://mahogany.sourceforge.net/" TARGET="Resource Window">Mahogany</a>,
 Edit --> Preferences --> Network<br>
<ul>
<li>Check <em>Use local mail transfer agent</em>
<li>In the <em>Local MTA command</em> box, enter <em>/path/to/tmda/bin/tmda-sendmail</em>
</ul>
<br>

<li>For <a href="http://www.xfmail.org/" TARGET="Resource Window">XFMail</a>,
 Misc --> Config Accounts+Misc --> Send<br>
<ul>
<li>Check <em>Sendmail</em> under <em>Send method</em>
<li>In the <em>Sendmail Path</em> box, enter <em>/path/to/tmda/bin/tmda-sendmail</em>
</ul>
<br>

<li>For <a href="http://kmail.kde.org/" TARGET="Resource Window">KMail (KDE Mail)</a>,
 Settings --> Configure KMail --> Network --> Sending Mail<br>
<ul>
<li>Check <em>Sendmail</em>
<li>In the <em>Location</em> box, enter <em>/path/to/tmda/bin/tmda-sendmail</em>
</ul>

</ul>
</ul>

<br>

<li>USENET News Client configuration:<br><br>

If you still read <a href="http://www.usenet.org/" TARGET="Resource Window">USENET</a> 
(a notorious source of SPAM), you might find it useful to post using a
dated address.  Simply have your newsreader call
<strong>tmda-address -dn</strong> and use the result as your
posting address.
<br><br>

<ul>

<li>For <a href="http://www.gnus.org/" TARGET="Resource Window">Gnus</a>, this could
be accomplished with the following addition to your .gnus file:

<blockquote><pre>

(defun tmda-dated-address () 
  (shell-command-to-string "/path/to/tmda/bin/tmda-address -dn"))
 
(setq gnus-posting-styles 
      (message-this-is-news           
       (address tmda-dated-address))) 

</pre></blockquote>

<li>For <a href="http://www.slrn.org/" TARGET="Resource Window">slrn</a>, you can define
an m4 macro that modifies your .slrnrc each time slrn is invoked:<br><br>

<ol>
<li>
Copy your .slrnrc to .slrnrc.m4, edit .slrnrc.m4 and search for line
which begins with "set username". Change that line to:

<blockquote><pre>

set username "patsubst(TMDADATED, `@.*$')"

</pre></blockquote>

<li>
Then make an alias or script for running slrn.  Below is an example
alias for tcsh.

<blockquote><pre>

alias slrn-dated 'm4 -DTMDADATED=`tmda-address -dn` ~/.slrnrc.m4 > ~/.slrnrc && slrn -h newshost'

</pre></blockquote>
</ul>

</TD><!-- end of body cell -->
</TR><!-- end of sidebar/body row -->
</TABLE><!-- end of page table -->
</BODY></HTML>
