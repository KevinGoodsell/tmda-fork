<HTML>
<!-- THIS PAGE IS AUTOMATICALLY GENERATED.  DO NOT EDIT. -->
<!-- Sun Dec 30 19:16:19 2001 -->
<!-- USING HT2HTML 1.2 -->
<!-- SEE http://barry.wooz.org/software/ht2html -->
<!-- User-specified headers:
Title: TMDA FAQ

-->

<HEAD>
<TITLE>TMDA FAQ</TITLE>

</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000"
      TOPMARGIN="0" LEFTMARGIN="0" MARGINWIDTH="0" MARGINHEIGHT="0"
      LINK="#0000bb"  VLINK="#551a8b"
      ALINK="#ff0000">
<!-- start of page table -->
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=0>
<!-- start of banner row -->
<TR>
<!-- start of corner cells -->
<TD WIDTH=150 VALIGN=CENTER BGCOLOR="#191970">

        <font color="#191970">
        <h3> T M D A </h3>
        </font> </TD>
<TD WIDTH=15 BGCOLOR="#cccccc">&nbsp;&nbsp;</TD><!--spacer-->
<!-- end of corner cells -->
<!-- start of banner -->
<TD WIDTH="90%" BGCOLOR="#cccccc">
<!-- start of site links table -->
<TABLE WIDTH="100%" BORDER=0
CELLSPACING=0 CELLPADDING=0
       COLS=4 ROWS=1 BGCOLOR="#ffffff">
<TR>
    <TD BGCOLOR="#cccccc">
<a href="./index.html">TMDA Homepage</a>
    </TD>
    <TD BGCOLOR="#cccccc">
<a href="http://sourceforge.net/projects/tmda">TMDA @ SourceForge</a>
    </TD>
    <TD BGCOLOR="#cccccc">
&nbsp;&nbsp;</TD>
    <TD BGCOLOR="#cccccc">
&nbsp;&nbsp;</TD>
</TR>
</TABLE><!-- end of site links table -->

</TD><!-- end of banner -->
</TR><!-- end of banner row -->
<TR><!-- start of sidebar/body row -->
<!-- start of sidebar cells -->
<TD WIDTH=150 VALIGN=TOP BGCOLOR="#cccccc">
<!-- start of sidebar table -->
<TABLE WIDTH="100%" BORDER=0 CELLSPACING=0 CELLPADDING=3
       BGCOLOR="#ffffff">
<TR><TD BGCOLOR="#191970"><B><FONT COLOR="#ffffff">
Overview
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="index.html">Introduction</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="history.html">History</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="features.html">Features</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="results.html">Results &amp; Testimonials</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="inuse.html">TMDA In Use</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">&nbsp;
<TR><TD BGCOLOR="#191970"><B><FONT COLOR="#ffffff">
Usage
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="requirements.html">Requirements</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="download.html">Download</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="install.html">Installation</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="config.html">Configuration</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">&nbsp;
<TR><TD BGCOLOR="#191970"><B><FONT COLOR="#ffffff">
Support
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cccccc">
<b>FAQ</b>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="lists.html">Mailing Lists</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="bugs.html">Bugs &amp; Patches</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="resources.html">External Resources</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">&nbsp;
<TR><TD BGCOLOR="#191970"><B><FONT COLOR="#ffffff">
Author
</FONT></B></TD></TR>
<TR><TD BGCOLOR="#cccccc">
<A HREF="mailto:jason@mastaler.com">Jason R. Mastaler</A>
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
&nbsp;
</TD></TR>
<TR><TD BGCOLOR="#cccccc">
&copy; 2001
</TD></TR>
</TABLE><!-- end of sidebar table -->

</TD>
<TD WIDTH=15>&nbsp;&nbsp;</TD><!--spacer-->
<!-- end of sidebar cell -->
<!-- start of body cell -->
<TD VALIGN=TOP WIDTH="90%"><BR>
<h3>TMDA FREQUENTLY ASKED QUESTIONS</h3>
<ol>
<li><a href="#1">How do I setup a whitelist?</a> <br>
<li><a href="#2">Will TMDA run on non-unix clients such as Microsoft Windows?</a> <br>
<li><a href="#3">Does TMDA have a web interface?</a> <br>
<li><a href="#4">How do I setup TMDA with vpopmail?</a> <br>
<li><a href="#5">How can I delete old, unconfirmed messages from TMDA's pending queue?</a> <br>
<li><a href="#6">How do I allow my ezmlm mailing lists to pass through TMDA?</a> <br>
<li><a href="#7">How can I prevent BBDB from asking about 'dated' addresses?</a><br>
<li><a href="#8">Why don't my user+detail addresses work with Sendmail virtualdomains?</a><br>
<li><a href="#9">Why don't my user+detail addresses work with Sendmail /etc/aliases?</a><br>
</ol>

<hr>
<li><b>
<a name="1">How do I setup a whitelist?</a>  I'd like any address in
my domain (domain.dom) to be able to send me mail without
worrying about confirmations.
</b>
<br><br>

You can allow senders, or groups of senders directly into your mailbox
by adding lines to your incoming filter file.  By default this is
~/.tmda/filters/incoming.    
<br><br>

For example, the following line will allow both anyone@domain.dom,
and anyone@sub.domain.dom into your mailbox:

<blockquote><pre>
from *@=domain.dom ok
</blockquote></pre>

If you have many individual addresses and/or expressions you'd like to
whitelist, you may keep them in a seperate file and then have TMDA access it
using the following line:

<blockquote><pre>
from-file ~/.tmda/lists/whitelist ok
</blockquote></pre>

~/.tmda/lists/whitelist would contain e-mail addresses and/or
wildcard expressions, one per line.  e.g,

<blockquote><pre>
king@grassland.com
*@myisp.net
*@cs.myuni.edu
*@=mycompany.com
bobby*@peru.com
</blockquote></pre>

See the <a href="config-filter.html">TMDA Filter Specification</a> 
for details on filter file syntax, options, and more examples.
<br><br>

<b>NOTE</b>: For incoming mail, tmda-filter compares the address in
the Envelope-Sender, the "From:" header and the "Reply-To:" header
when looking for a match.

<hr>
<li><b>
<a name="2">Will TMDA run on non-unix clients such as Microsoft Windows?</a>
</b>
<br><br>
You do have a couple of options under Windows on the 
<a href="config-client.html">client side</a> of TMDA.

<br><br>
You can configure a qmail relay to re-write the address of outgoing
messages with tmda-inject, so that those running Microsoft Windows
clients can take full advantage of TMDA.  See `README.RELAY' in the
contrib/ directory or one user's
<a href="http://tmda.bordewich.net/" TARGET="Resource Window">
configuration details</a> 
for a site-wide TMDA install using smtpd-auth, vpopmail and qmailadmin.
<br><br>

TMDA also works perfectly under <a href="http://www.cygwin.com/" TARGET="Resource Window">
cygwin</a> with the sSMTP sendmail emulation program (which comes with cygwin).
Just add the following line your tmdarc:

<blockquote><pre>
SENDMAIL = "/usr/sbin/ssmtp.exe"
</blockquote></pre>

You'll then be able to tag your outgoing mail with cygwin-compatible
MUAs (mutt, XEmacs, etc.) just as under UNIX.

<hr>
<li><b>
<a name="3">Does TMDA have a web interface?</a>
</b>
<br><br>
Yes.  <a href="http://devel.samstech.net/" TARGET="Resource Window">QAdmin-TMDA</a> is
a TMDA configuration and administration tool which integrates into the 
<a href="http://inter7.com/qmailadmin/" TARGET="Resource Window">QmailAdmin</a>
 web managment system.  For more information on QAdmin-TMDA's capabilities,
see its <a href="http://mla.libertine.org/tmda-announce/200111/msg00002.html" TARGET="Resource Window">
original announcement</a>.

<hr>
<li><b>
<a name="4">How do I setup TMDA</a> with <a href="http://inter7.com/vpopmail/" TARGET="Resource Window">vpopmail</a>?
</b>
<br><br>
See Lou Hevly's <a href="http://www.visca.com/tmda/tmda_vpop.html" TARGET="Resource Window">
TMDA/vpopmail tutorial</a>

<hr>
<li><b>
<a name="5">How can I delete old</a>, unconfirmed messages from TMDA's pending queue?
</b>
<br><br>

TMDA comes with a utility called `tmda-clean' which does this for you.
You can run it by hand, or periodically from cron.  Run `tmda-clean'
without any arguments to get a listing of possible options.
tmda-clean should be run from the user account that owns the pending
queue, not from root (unless root is running TMDA).
<br><br>

For example, to purge unconfirmed messages older than 14 days each
morning at 2AM, add the following crontab entry:
<blockquote><code>
0 02 * * * /path/to/tmda/bin/tmda-clean 14d
</blockquote></code>

<hr>

<li><b>
<a name="6">How do I allow my</a> <a href="http://cr.yp.to/ezmlm.html" TARGET="Resource Window">ezmlm</a>
mailing lists to pass through TMDA?  Each list message is sent out 
with a different envelope sender address.
</b>
<br><br>

You can whitelist the ezmlm list using wildcard characters.  Here is
an example whitelist entry for the qmail mailing list:

<blockquote><code>
qmail-return-*@list.cr.yp.to
</blockquote></code>

This will allow messages to get through when initially interacting
with ezmlm to get subscribed, as well as after when list messages are
delivered.
<hr>

<li><b>
<a name="7">I use</a> <a href="http://bbdb.sourceforge.net/" TARGET="Resource Window">BBDB</a>, 
and every time it sees a new 'dated' address it asks me whether I want
it added to so-and-so's BBDB record.  How can I prevent this?
</b>
<br><br>

You can either set <em>bbdb-always-add-addresses</em> to
<em>'never</em>, or use a 
<a href="http://forums.my.gnus.org/viewtopic.php?topic=46&forum=7&0" TARGET="Resource Window">BBDB hook</a>
to filter the addresses before adding them to the database.

<hr>

<li><b>
<a name="8">I'm running Sendmail, and noticed that my user+detail addresses don't
work if the message is sent to a virtual domain.  What's the problem?</a>
</b>
<br><br>
You need some special entries in the virtusertable (and a modern version
of sendmail - at least 8.10.1 to get full functionality) to preserve the
+detail portion of the address.  For example, if you currently have
the following in your virtusertable:

<blockquote><pre>
bobby@peru.com    bobby
</blockquote></pre>

you can change this to:

<blockquote><pre>
bobby+*@peru.com  bobby+%2
</blockquote></pre>

See the virtusertable section in your Sendmail's cf/README for the
full details.
<hr>

<li><b>
<a name="9">I'm running Sendmail, and noticed that my user+detail addresses don't
work if the message is sent to a one of my aliases.  What's the problem?</a>
</b>
<br><br>
If you have the following in /etc/aliases:

<blockquote><pre>
webmaster: johndoe
</blockquote></pre>

+detail is preserved for mail to johndoe+detail, but not for
webmaster+detail.
<br><br>

Unfortunately, there is no way to preserve the +detail portion in
/etc/aliases.  You must use the virtusertable for this (see previous
question).

<hr>

</TD><!-- end of body cell -->
</TR><!-- end of sidebar/body row -->
</TABLE><!-- end of page table -->
</BODY></HTML>
